if [[ -s ${ZDOTDIR:-$HOME}/.zprezto/init.zsh ]]; then
  source ${ZDOTDIR:-$HOME}/.zprezto/init.zsh
fi

setopt clobber
unsetopt correct
setopt interactivecomments

export KEYTIMEOUT=1
bindkey '^R' history-incremental-search-backward

if [[ "$OSTYPE" == darwin* ]]; then
  export BROWSER='open'
  path=(
    ~/bin/mac
    ~/Library/Haskell/bin
    /Library/TeX/Distributions/.DefaultTeX/Contents/Programs/texbin
    $path
  )
fi

path=(
  ~/bin/unix
  ~/.local/bin
  ~/.config/yarn/global/node_modules/.bin
  ./node_modules/.bin
  $path
)

if [[ "$OSTYPE" == darwin* ]]; then
  alias ls='ls -G'
else
  alias ls='ls --color'
fi

if (( $+commands[brew] )) && [[ -s $(brew --prefix)/etc/profile.d/autojump.sh ]]; then
  source $(brew --prefix)/etc/profile.d/autojump.sh
fi

if [[ -e ~/.opam/opam-init/init.zsh ]]; then
  source ~/.opam/opam-init/init.zsh >& /dev/null || :
fi

# The next line updates PATH for the Google Cloud SDK.
if [ -f /usr/local/opt/google-cloud-sdk/path.zsh.inc ]; then
  source '/usr/local/opt/google-cloud-sdk/path.zsh.inc'
fi

# The next line enables shell command completion for gcloud.
if [ -f /usr/local/opt/google-cloud-sdk/completion.zsh.inc ]; then
  source '/usr/local/opt/google-cloud-sdk/completion.zsh.inc'
fi

if [[ -e ~/.zshrc.local ]]; then
  source ~/.zshrc.local
fi
