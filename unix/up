#!/usr/bin/env zsh

[[ -s "$HOME/.rvm/scripts/rvm" ]] && source "$HOME/.rvm/scripts/rvm"

set -e

function exists {
    (( $+commands[$1] ))
}

function if-exists {
    if exists $1; then
        "$@"
    fi
}

if exists brew; then
    brew update
    brew upgrade
    brew cleanup
fi

if exists apt-get; then
    apt-get update
    apt-get upgrade
fi

if exists rvm; then
    rvm get stable
    rvm cleanup all
    rvm reload
fi

if-exists gem update --system
if-exists gem update
if-exists gem cleanup

if-exists pip install --upgrade setuptools
if-exists pip install --upgrade pip

if-exists npm update

if-exists cabal update
